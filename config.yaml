# Punto Switcher Configuration
# Путь по умолчанию: /etc/punto/config.yaml
# Config version: 2.7.1

# Хоткей переключения раскладки
# Доступные модификаторы: leftctrl, rightctrl, leftalt, rightalt, leftshift, rightshift
# Доступные клавиши: grave (` ~), space, tab, и т.д.
hotkey:
  modifier: leftctrl
  key: grave

# Задержки (в миллисекундах)
delays:
  # Основные задержки
  key_press: 12
  layout_switch: 150
  retype: 15

  # Турбо-задержки для автокоррекции
  # ВАЖНО: слишком малые значения вызывают гонку символов в медленных приложениях
  turbo_key_press: 15
  turbo_retype: 35

  # Детальные настройки эмуляции ввода (увеличьте для медленных приложений)
  # Эти параметры помогают избежать потери/перестановки символов
  key_hold: 20           # Удержание клавиши между press и release
  modifier_hold: 15      # Удержание модификатора (Shift) перед клавишей
  modifier_release: 8    # Задержка после отпускания модификатора
  backspace_hold: 18     # Удержание Backspace

# Автоматическое переключение раскладки при нажатии пробела
# Гибридный анализ: словарь (приоритет) + N-граммы (fallback)
auto_switch:
  enabled: true
  threshold: 3.5
  min_word_len: 2
  min_score: 5.0
  max_rollback_words: 5
  
  # Исправление опечаток (v2.7+)
  typo_correction_enabled: false     # Исправление опечаток (перестановки, замены, пропуски, дубли)
  max_typo_diff: 2                  # Максимальное расстояние редактирования (1-2)
  sticky_shift_correction_enabled: true  # Исправление залипшего Shift (ПРивет -> Привет)

# Звуковая индикация переключения раскладки
sound:
  enabled: true
